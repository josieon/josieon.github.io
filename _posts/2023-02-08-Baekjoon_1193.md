---
layout: single
title: "분수찾기"
categories: Baekjoon
tag: [java, Baekjoon]
---

## 문제
---
무한히 큰 배열에 다음과 같이 분수들이 적혀있다.

|1/1|1/2|1/3|1/4|1/5|…|
|2/1|2/2|2/3|2/4|…|…|
|3/1|3/2|3/3|…|…|…|
|4/1|4/2|…|…|…|…|
|5/1|…|…|…|…|…|
|…|…|…|…|…|…|

이와 같이 나열된 분수들을 1/1 → 1/2 → 2/1 → 3/1 → 2/2 → … 과 같은 지그재그 순서로 차례대로 1번, 2번, 3번, 4번, 5번, … 분수라고 하자.

X가 주어졌을 때, X번째 분수를 구하는 프로그램을 작성하시오.

---

## 입력

첫째 줄에 X(1 ≤ X ≤ 10,000,000)가 주어진다.

## 출력

첫째 줄에 분수를 출력한다.

---

### 입력예제1

```
1
```

### 출력예제1

```
1/1
```

### 입력예제2

```
2
```

### 출력예제2

```
1/2
```

### 입력예제3

```
3
```

### 출력예제3

```
2/1
```

### 입력예제4

```
4
```

### 출력예제4

```
3/1
```

### 입력예제5

```
5
```

### 출력예제5

```
2/2
```
### 입력예제6

```
6
```

### 출력예제6

```
1/3
```
### 입력예제7

```
7
```

### 출력예제7

```
1/4
```
### 입력예제8

```
8
```

### 출력예제8

```
2/3
```
### 입력예제9

```
9
```

### 출력예제9

```
3/2
```
### 입력예제10

```
14
```

### 출력예제10

```
2/4
```

## 풀이

---

<img src = "https://user-images.githubusercontent.com/76546008/217439714-b89d633f-5f01-437a-a24a-af676725e2d5.png">

분수가 나열된 표를 보고 2가지 규칙을 찾을 수 있었다.

1. / 이러한 대각선으로 잘라본다면 원소가 1개, 2개, ... 로 증가한다. 또한, 분자+분모는 원소의 개수+1로 증가한다.

1. 방향이 지그재그로 ↗, ↙가 반복되며 원소가 홀수개일때 ↗, 짝수개일때 ↙로 진행된다.

따라서, X가 주어지면 몇번째 대각선인지 구하면 방향과 분자+분모의 합 및 원소의 개수를 알 수 있다.

반복문을 통해 몇번째 대각선인지 구한다. 1, 3, 6, 10의 계차수열 형태임을 알 수 있다.

계차수열의 반복문을 통해 상한을 구한다. 예를 들어, 8번째 분수를 구한다면 $a_k$가 10에서 반복문이 멈출 것이다. 여기서 k는 4이기에 4번째 대각선임을 알 수 있고, 짝수이기에 ↙방향으로 진행되고, 대각선의 마지막이 10번째 분수이다. 또한, 4번째 대각선이기에 원소의 개수가 4개이고, 분자+분모의 합이 5임을 알 수 있다. 홀수번째 대각선은 대각선의 마지막 값이 1/k 형태이고 짝수번째 대각선은 대각선의 마지막 값이 k/1 형태이므로 구분해서 구해야 한다.

분자+분모의 합이 5이고, 짝수번쩨 대각선이므로, 대각선의 마지막인 10번째 분수가 4/1임을 알 수 있고, 8은 10보다 -2번째 분수이므로 (4-2) / (1+2) = 2/3 임을 알 수 있다.

물론, 점화식으로 접근하는 방법도 있다.

최종적으로 정리하자면, n번째 분수를 구한다면 반복문을 통해 k번째 대각선임을 알아낸다.

k가 홀수일 경우,

    분자는 k-(n-(k*(k+1)/2 - k))

    분자는 (k+1) - 분모

k가 짝수인 경우에는 분자와 분모가 반대로인걸로 생각하면 된다.

```java
public static void main(String[] args) throws Exception{
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    int N = Integer.parseInt(br.readLine());
    int sum=0;
    int range=1;
    while(sum < N) {
        sum += range;
        range++;
    }
    if(range%2!=0) {	// 5/1, 7/1와 같은 형태
        System.out.println((N-((range*(range-1))/2-range+1))+"/"+(range-((N-((range*(range-1))/2-range+1)))));
    }
    else {		// 1/5, 1/7과 같은 형태
        System.out.println(range-((N-((range*(range-1))/2-range+1)))+"/"+(N-((range*(range-1))/2-range+1)));
    }
}
```