---
layout: post
title: Proxy
---

# 1. Proxy?

프록시의 사전적 의미는 '대리', '대신'입니다. 보안상의 문제로 직접 통신을 주고받을 수 없는 두 PC 사이에서 통신을 할 때 직접 하지 않고 중간에서 대리로 중계를 하는 개념을 '프록시'라고 합니다.

그리고 이렇게 중계 기능을 하는 것을 '프록시 서버'라고 부른다.

프록시 서버는 서버가 어디에 위치하느냐에 따라 포워드 프록시와 리버스 프록시로 나뉜다. 각각의 경우 위치뿐만 아니라 용도와 역할도 서로 달라지는데 한번 자세히 알아보자.

# 2. Forward Proxy

클라이언트에서 서버로 리소스를 요청할 때 직접 요청하지 않고 프록시 서버를 거쳐서 요청한다. 이 경우 서버에서 받는 IP는 클라이언트의 IP가 아닌 프록시 서버의 IP이기 때문에 서버는 클라이언트가 누구인지 알 수 없다. 따라서 서버에게 클라이언트가 누구인지 감춰주는 역할을 한다.

예를 들어 사용자가 사용자가 google.com에 연결하려고 하면 사용자 PC가 직접 연결하는게 아니라 포워드 프록시 서버가 요청을 받아서 google.com에 연결하여 그 결과를 클라이언트에 전달(forward) 해준다.

포워드 프록시는 대개 캐싱 기능이 있으므로 자주 사용되는 컨텐츠라면 월등한 성능 향상을 가져올 수 있으며 정해진 사이트만 연결하게 설정하는 등 웹 사용 환경을 제한할 수 있으며 보안이 매우 중요한 기업 환경 등에서 많이 사용한다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FeGhyqD%2Fbtrzzqehirv%2F4fUUaC0g724J39AKt1KNs0%2Fimg.png)

- 클라이언트가 서버에게 요청할 때 직접 서버에 접근하지 않고 포워드 프록시 서버에게 요청하면 포워드 프록시 서버가 해당 서버에게 접근하여 요청을 전달하고 결과를 클라이언트에게 전달해주는 방식
- 포워드 프록시는 캐시 기능을 사용하기 때문에 캐시 서버로 활용하여 성능을 향상할 수 있음
- 클라이언트가 서버를 직접 접근하지 못하기 때문에 접근 가능한 사이트를 제한할 수 있으므로 보안을 향상할 수 있음
- 즉, 클라이언트는 서버를 알지만, 서버는 프록시를 통해 요청이 오기 때문에 클라이언트를 알지 못함

# 3. Reverse Proxy

리버스 프록시는 프록시와 반대 개념이다. 애플리케이션 서버의 앞에 위치하며 클라이언트가 서버를 요청할 때 리버스 프록시를 호출하고 리버스 프록시가 서버로부터 응답을 전달받아 다시 클라이언트에게 전송하는 역할을 한다.

이 경우, 클라이언트는 애플리케이션 서버를 직접 호출하는 것이 아니라 서버를 통해 호출하기 때문에 리버스 프록시는 애플리케이션 서버를 감추는 역할을 하게 된다.

예를 들어 리버스 프록시로 웹 서버를 설정할 경우 사용자가 example.com 웹 서비스에 데이터를 요청하면 Reverse Proxy는 이 요청을 받아서 내부 서버(보통 WAS)에서 데이터를 받은 후에 이 데이터를 사용자에게 다시 전달하게 된다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fm276b%2FbtrzDvrS8en%2FvSAon1Kr4k2u56jcVqFNz1%2Fimg.png)

- 클라이언트가 서버에게 요청할 때 직접 서버에 접근하지 않고 리버스 프록시 서버가 이 요청들을 받아서 내부 서버에 접근하여 요청을 전달하고 결과를 클라이언트에게 전달해주는 방식
- 마찬가지로 클라이언트는 내부 서버를 접근하지 못하기 때문에 보안과 성능을 향상할 수 있다
- 여러 개의 내부 서버를 둘 수 있기 때문에 로드 밸런싱이나 서버 확장을 통해 트래픽을 분산시킬 수 있다
- 포워드 프록시 서버와는 반대로 내부 서버는 클라이언트를 알지만, 클라이언트는 프록시를 통해 내부 서브를 접근하기 때문에 내부 서버를 알지 못한다