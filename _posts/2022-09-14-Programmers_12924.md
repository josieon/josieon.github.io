---
layout: single
title: "숫자의 표현"
categories: Programmers
tag: [java, Programmers]
---

## 문제
---
Finn은 요즘 수학공부에 빠져 있습니다. 수학 공부를 하던 Finn은 자연수 n을 연속한 자연수들로 표현 하는 방법이 여러개라는 사실을 알게 되었습니다. 예를들어 15는 다음과 같이 4가지로 표현 할 수 있습니다.

- 1 + 2 + 3 + 4 + 5 = 15
- 4 + 5 + 6 = 15
- 7 + 8 = 15
- 15 = 15


자연수 n이 매개변수로 주어질 때, 연속된 자연수들로 n을 표현하는 방법의 수를 return하는 solution를 완성해주세요.

## 제한사항
---
- n은 10,000 이하의 자연수 입니다.

## 입출력 예
---  

| n | result          |
|: ------------- |:-------------:|
| 15 | 4 |

## 풀이
---
&nbsp;수학적 규칙을 찾는 것이 문제였다. 브루트 포스를 사용하기에는 연산양이 많아 시간 초과가 발생할 것이 뻔했다. 결국 규칙을 찾지는 못하였지만 여러 방법들을 검색을 통해 알게되었다.  
&nbsp;첫번째 방법은 슬라이딩 윈도우 방식이다. 연속된 정수의 합을 알아야 하므로 슬라이딩 윈도우 방식은 본 문제에 매우 적합한 방식이다.
```java
public int solution(int n) {
    if (n < 3)
        return 1;
    int answer = 1, left = 1, right = 2;
    int sum = left + right;
    while (right < n) {
        if (sum < n) {
            sum += ++right;
            continue;
        }
        if (sum == n)
            answer++;
        sum -= left++;
    }
    return answer;
}
```
원리가 간단하여 코드만 보고도 쉽게 이해할 수 있다. left와 right를 변화해가며 윈도우의 크기가 결정되고 비교문을 통해 카운트를 해나간다.  
&nbsp;두번째 방법은 수학적 방법이다. 등차수열을 이용한다. x부터 1개의 합은 x + 0, 2개의 합은 2x + 1, 3개의 합은 3x + 3, ..., n개의 합은 nx + (n-1까지의 합)이다. 이 말은, n개의 연속된 정수의 합이 입력값인지 판단하려면 입력값이 nx + (n-1까지의 합)인지 판단하면 되는 것이다. 예를 들어, 15라는 숫자가 2개의 연속된 숫자의 합으로 표현될수있는지는 15 = 2x + (1까지의 합)으로 표현가능한지, x가 정수인지 묻는 것이고 14 % 2 == 0 인지 묻는 것이다. 이를 코드로 옮기면 다음과 같다.
```java
public int solution(int n) {
    int answer = 0;
    for(int i = 1; n-((i*(i-1))/2) > 0; i++){
        if((n-((i*(i-1))/2))% i == 0)
            answer++;
    }
    return answer;
}
```
위의 코드를 연산량을 더 줄여 간소하게 만든 코드는 아래와 같은데 for문의 종료여부를 묻는 연산을 하지않도록 원래의 숫자를 감소해나가는 식이다. 아마, 모듈러 연산을 복합적으로 사용한 것이라 생각되는데 자세한 원리는 100% 파악하지 못했다.
```java
public int solution(int n){
    int answer = 0;
    d = 1;
    while(n > 0){
        if(n % d == 0)
            answer++;
        n -= d++;
    }
}
```