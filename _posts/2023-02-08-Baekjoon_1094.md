---
layout: single
title: "막대기"
categories: Baekjoon
tag: [java, Baekjoon]
---

## 문제
---
지민이는 길이가 64cm인 막대를 가지고 있다. 어느 날, 그는 길이가 Xcm인 막대가 가지고 싶어졌다. 지민이는 원래 가지고 있던 막대를 더 작은 막대로 자른다음에, 풀로 붙여서 길이가 Xcm인 막대를 만들려고 한다.

막대를 자르는 가장 쉬운 방법은 절반으로 자르는 것이다. 지민이는 아래와 같은 과정을 거쳐서 막대를 자르려고 한다.

1. 지민이가 가지고 있는 막대의 길이를 모두 더한다. 처음에는 64cm 막대 하나만 가지고 있다. 이때, 합이 X보다 크다면, 아래와 같은 과정을 반복한다.
    1. 가지고 있는 막대 중 길이가 가장 짧은 것을 절반으로 자른다.
    1. 만약, 위에서 자른 막대의 절반 중 하나를 버리고 남아있는 막대의 길이의 합이 X보다 크거나 같다면, 위에서 자른 막대의 절반 중 하나를 버린다.
1. 이제, 남아있는 모든 막대를 풀로 붙여서 Xcm를 만든다.
X가 주어졌을 때, 위의 과정을 거친다면, 몇 개의 막대를 풀로 붙여서 Xcm를 만들 수 있는지 구하는 프로그램을 작성하시오. 

---

## 입력

첫째 줄에 X가 주어진다. X는 64보다 작거나 같은 자연수이다.

## 출력

문제의 과정을 거친다면, 몇 개의 막대를 풀로 붙여서 Xcm를 만들 수 있는지 출력한다.

---

### 입력예제1

```
23
```

### 출력예제1

```
4
```

### 입력예제2

```
32
```

### 출력예제2

```
1
```

### 입력예제3

```
64
```

### 출력예제3

```
1
```

### 입력예제4

```
48
```

### 출력예제4

```
2
```


## 풀이

---

<img src = "https://user-images.githubusercontent.com/76546008/217439704-8f99f272-562b-4a67-bad8-86bde0587d9d.png">

문제에서 주어진 연산을 반복 수행하는 문제이다. 배열을 사용하는 방법과 힙을 사용하는 방법이 가능하다.

1. 배열을 사용하는 경우

    배열에다가 자른 막대를 넣고, 제일 짧은 막대를 반을 잘라야 하므로, 배열을 정렬하는 과정이 추가되어야 한다. Arrays.sort()의 알고리즘인 듀얼피봇 퀵정렬의 경우, $O(NlogN)$의 Time Complexity를 가진다. 그러나, 제일 짧은 원소를 빼고, 나머지 원소들이 정렬이 되어 있는 경우이므로 Insertion이나 Bubble sort를 사용한다면 $O(N)$이 가능하지 않을까라는 생각을 했다.

1. 힙을 사용하는 경우

    위보다 훨씬 코드가 간단해진다. 오름차순으로 정렬되는 힙의 경우에 Head를 꺼내면 되기 때문이다.

```java
public static void main(String[]  args) throws Exception{
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    int X = Integer.parseInt(br.readLine());    // 입력값
    PriorityQueue<Integer> pq = new PriorityQueue<>();    // 힙
    int len = 64;    // 초기 길이
    pq.add(64);
    int answer = 0;
    // 루프 : 자르는 과정 수행
    while(X != len){
        int cur = pq.poll() / 2;
        pq.offer(cur);
        // 자른 막대 버려도 되는지 판단
        if(len-cur < X){
            pq.offer(cur);
        }
        else
            len -= cur;
    }
    System.out.println(pq.size());
}
```